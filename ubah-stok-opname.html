<DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Stok opname</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">

    <link href="css/tooplate.css" rel="stylesheet">

  </head>

  <body class="m-4">


    <form class="mb-3">
      <div class="mb-3">
        <div class="mb-3">
          <label class="form-label">NamaBarang</label>
          <input type="date" class="form-control" id="input-namabarang">
        </div>
        <div class="mb-3">
          <label class="form-label">JumlahBarang</label>
          <input type="text" class="form-control" id="input-jumlahbarang">
        </div>
        <div class="mb-3">
          <label class="form-label">SisaBarang</label>
          <input type="text" class="form-control" id="input-sisabarang">
        </div>

    </form>

    <script type="module">
      import { ambilStokOpname, ubahstokopname } from './main.js';

      let elemenNamaBarang = document.getElementById('tombol-namabarang');
      let elemenJumlahBarang = document.getElementById('input-jumlahbarang');
      let elemenSisaBarang = document.getElementById('input-sisabarang');


      const queryString = window.location.search
      const parameterURL = new URLSearchParams(queryString);
      const docId = parameterURL.get('docId')
      const stokopname = await ambilStokOpname(docId);

      elemenNamaBarang.value = stokopname.namabarang;
      elemenJumlahBarang.value = stokopname.jumlahbarang;
      elemenSisaBarang.value = stokopname.sisabarang;


      tombolUbah.addEventListener('click', async function(el) {
        el.preventDefault();
        await ubahstokopname(docId, elemennamabarang.value, elemenjumlahbarang.value, elemensisabarang.value,);
        window.location.href = 'index.html';
      });
    </script>

    <footer class="site-footer section-padding">

      <div class="container">

        <div class="row">
          <div class="d-flex justify-content-center" class="col-12">
            <h4 class="text-white mb-4 me-5"></h4>
          </div>

          <div class="d-flex justify-content-center" class="col-12">
            <h6 class="text-white mb-4 me-5">location</h6>
          </div>

          <div class="d-flex justify-content-center" class="col-12">
            <p class="text-white mb-4 me-5">121 Teyvat, Gi</p>
          </div>

          <div class="d-flex justify-content-center">
            <p class="mb-4 me6">
              <br>
              <a rel="nofollow" href="https://www.tooplate.com/" target="_blank"></a>
            </p>
          </div>

        </div>
      </div>
      </div>

    </footer>
    <footer class="py-3 bg-dark-subtle mt-auto">
      <ul class="nav justify-content-center border-bottom pb-3 mb-3">
        <li class="nav-item"><a href="index.html" class="nav-link px-2 text-body-secondary">Beranda</a></li>
      </ul>
      <p class="text-center text-body-secondary">&copy; </p>
    </footer>


  </body>

  </html>